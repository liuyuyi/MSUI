function getWeatherHtml(rowType, todayShow, tomShow, afterShow, fontColor, fontSize, fontFamily) { var sHtml = ""; if (rowType == 1) { sHtml += "<tr>"; if (todayShow == 1) { sHtml += setWeatherTemp01("今天", fontColor, fontSize, fontFamily) } if (tomShow == 1) { sHtml += setWeatherTemp01("明天", fontColor, fontSize, fontFamily) } if (afterShow == 1) { sHtml += setWeatherTemp01("后天", fontColor, fontSize, fontFamily) } sHtml += "</tr>" } if (rowType == 2) { if (todayShow == 1) { sHtml += "<tr>"; sHtml += setWeatherTemp02("今天", fontColor, fontSize, fontFamily); sHtml += "</tr>" } if (tomShow == 1) { sHtml += "<tr>"; sHtml += setWeatherTemp02("明天", fontColor, fontSize, fontFamily); sHtml += "</tr>" } if (afterShow == 1) { sHtml += "<tr>"; sHtml += setWeatherTemp02("后天", fontColor, fontSize, fontFamily); sHtml += "</tr>" } } if (rowType == 3) { sHtml += "<tr>"; if (todayShow == 1) { sHtml += setWeatherTemp02("今天", fontColor, fontSize, fontFamily) } if (tomShow == 1) { sHtml += setWeatherTemp02("明天", fontColor, fontSize, fontFamily) } if (afterShow == 1) { sHtml += setWeatherTemp02("后天", fontColor, fontSize, fontFamily) } sHtml += "</tr>" } if (rowType == 4) { sHtml += "<tr>"; if (todayShow == 1) { sHtml += setWeatherTemp03("今天", fontColor, fontSize, fontFamily) } if (tomShow == 1) { sHtml += setWeatherTemp03("明天", fontColor, fontSize, fontFamily) } if (afterShow == 1) { sHtml += setWeatherTemp03("后天", fontColor, fontSize, fontFamily) } sHtml += "</tr>" } return sHtml } function setWeatherTemp01(text, fontColor, fontSize, fontFamily) { var shtml = '<td class="weather_day clearfix">' + '<table style="width:100%; height:100%;">' + "<tbody>" + "<tr>" + '<td class="weather_pic">' + '<img src="./../images/weather.png" style="width:60px" border="0" alt="">' + "</td>" + '<td class="weater_text">' + '<p style="margin: 0px;white-space:nowrap; text-align: right;padding-top: 6px;font-family:' + fontFamily + ";color:" + fontColor + ";font-size:" + fontSize + 'px;">' + text + "</p>" + '<p style="margin: 0px;white-space:nowrap; text-align: right; padding-top: 6px;font-family:' + fontFamily + ";color:" + fontColor + ";font-size:" + fontSize + 'px;">地区</p>' + '<p style="margin: 0px 0px 0px 5px;white-space:nowrap; text-align:right;font-family:' + fontFamily + ";color:" + fontColor + ";font-size:" + fontSize + 'px;">14℃~23℃</p>' + '<p style="text-align: right;white-space:nowrap;font-family:' + fontFamily + ";color:" + fontColor + ";font-size:" + fontSize + 'px;">大到暴雨转小到中雨</p>' + "</td>" + "</tr>" + "</tbody>" + "</table>" + "</td>"; return shtml } function setWeatherTemp02(text, fontColor, fontSize, fontFamily) { var shtml = '<td class="weather_day" align="center">' + '<div class="weather_pic">' + '<p style="margin: 0px;white-space:nowrap;font-family:' + fontFamily + ";color:" + fontColor + ";font-size:" + fontSize + 'px;">' + '<span class="city">地区</span>' + '<span class="day_name">(' + text + ")</span>" + "</p>" + '<img src="./../images/weather.png" width="60px" border="0" alt="">' + '<p style="margin: 0px;white-space:nowrap;font-family:' + fontFamily + ";color:" + fontColor + ";font-size:" + fontSize + 'px;">13 / 23℃</p>' + '<p class="weater_text" style="margin: 0px;white-space:nowrap;font-family:' + fontFamily + ";color:" + fontColor + ";font-size:" + fontSize + 'px;">大到暴雨转小到中雨</p>' + "</div>" + "</td>"; return shtml } function setWeatherTemp03(text, fontColor, fontSize, fontFamily) { var shtml = '<td class="weather_day" align="center">' + '<div class="weather_pic">' + '<p style="margin: 0px;white-space:nowrap;font-family:' + fontFamily + ";color:" + fontColor + ";font-size:" + fontSize + 'px;">' + '<span class="city">地区</span>' + '<span class="day_name">(' + text + ")</span>" + "</p>" + '<p style="margin: 0px;white-space:nowrap;font-family:' + fontFamily + ";color:" + fontColor + ";font-size:" + fontSize + 'px;">13 / 23℃</p>' + '<p class="weater_text" style="margin: 0px;white-space:nowrap;font-family:' + fontFamily + ";color:" + fontColor + ";font-size:" + fontSize + 'px;">大到暴雨转小到中雨</p>' + "</div>" + "</td>"; return shtml } function getData() {
    var data = callback(); var bgImg = data.pageEle[0].bgImg; var bgColor = data.pageEle[0].bgColor; var resolution = getViewResolution("${resolution}"); $("#demo").css({ "background-color": bgColor, "background-image": "url('" + "/resources/" + bgImg + "')", "background-size": "cover", "width": resolution.width + "px", "height": resolution.height + "px" }); $.each(data.mediaEle, function (index, item) {
        var itemType = item.type; var itemTop = item.top; var itemLeft = item.left; var itemWidth = item.width; var itemHeight = item.height; var itemSrcGroup = item.srcGroup; var itemzIndex = item.zIndex; var itemArrSrc = []; if (itemType == 0) { var timestamp = new Date().getTime(); var itemId = "my-video" + timestamp; for (var i = 0; i < itemSrcGroup.length; i++) { var src = itemSrcGroup[i].src; var name = src.substring(0, src.lastIndexOf(".")); var type = src.substring(src.lastIndexOf("."), src.length); var picPath = ""; if (type == ".mp4") { picPath = "/resources/" + name + "_copy.mp4" } else { picPath = "/resources/" + name + ".mp4" } itemArrSrc.push(picPath) } addVideo(itemArrSrc[0], itemArrSrc, itemId, itemWidth, itemHeight, itemLeft, itemTop, itemzIndex) } else {
            if (itemType == 1) {
                var itemClass = "slider" + item.id; var itemType = siderType(item.siderType); var itemPauseTime = item.pauseTime * 1000; var shtml = ""; for (var i = 0; i < itemSrcGroup.length; i++) { shtml += '<img src="' + "/resources/" + itemSrcGroup[i].src + '" />' } addSiderPhoto(itemClass, shtml, itemType, itemPauseTime, itemWidth, itemHeight, itemLeft, itemTop, itemzIndex)
            } else { if (itemType == 4) { var itemIdName = "clock" + item.id; addClock(itemIdName, item, itemWidth, itemHeight, itemLeft, itemTop, itemzIndex) } else { if (itemType == 3) { var itemWeatherId = "weather" + item.id; addWeather(itemWeatherId, item, itemWidth, itemHeight, itemLeft, itemTop, itemzIndex) } } }
        }
    })
};