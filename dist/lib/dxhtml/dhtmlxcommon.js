function dtmlXMLLoaderObject(funcObject,dhtmlObject,async,rSeed){return this.xmlDoc="",this.async=void 0===async||async,this.onloadAction=funcObject||null,this.mainObject=dhtmlObject||null,this.waitCall=null,this.rSeed=rSeed||!1,this}function callerFunction(funcObject,dhtmlObject){return this.handler=function(e){return e||(e=window.event),funcObject(e,dhtmlObject),!0},this.handler}function getAbsoluteLeft(htmlObject){return getOffset(htmlObject).left}function getAbsoluteTop(htmlObject){return getOffset(htmlObject).top}function getOffsetSum(elem){for(var top=0,left=0;elem;)top+=parseInt(elem.offsetTop),left+=parseInt(elem.offsetLeft),elem=elem.offsetParent;return{top:top,left:left}}function getOffsetRect(elem){var box=elem.getBoundingClientRect(),body=document.body,docElem=document.documentElement,scrollTop=window.pageYOffset||docElem.scrollTop||body.scrollTop,scrollLeft=window.pageXOffset||docElem.scrollLeft||body.scrollLeft,clientTop=docElem.clientTop||body.clientTop||0,clientLeft=docElem.clientLeft||body.clientLeft||0,top=box.top+scrollTop-clientTop,left=box.left+scrollLeft-clientLeft;return{top:Math.round(top),left:Math.round(left)}}function getOffset(elem){return elem.getBoundingClientRect?getOffsetRect(elem):getOffsetSum(elem)}function convertStringToBoolean(inputString){switch("string"==typeof inputString&&(inputString=inputString.toLowerCase()),inputString){case"1":case"true":case"yes":case"y":case 1:case!0:return!0;default:return!1}}function getUrlSymbol(str){return-1!=str.indexOf("?")?"&":"?"}function dhtmlDragAndDropObject(){return window.dhtmlDragAndDrop?window.dhtmlDragAndDrop:(this.lastLanding=0,this.dragNode=0,this.dragStartNode=0,this.dragStartObject=0,this.tempDOMU=null,this.tempDOMM=null,this.waitDrag=0,window.dhtmlDragAndDrop=this)}function _dhtmlxError(type,name,params){return this.catches||(this.catches=new Array),this}function dhtmlXHeir(a,b){for(var c in b)"function"==typeof b[c]&&(a[c]=b[c]);return a}function dhtmlxEvent(el,event,handler){el.addEventListener?el.addEventListener(event,handler,!1):el.attachEvent&&el.attachEvent("on"+event,handler)}dhtmlx=function(obj){for(var a in obj)dhtmlx[a]=obj[a];return dhtmlx},dhtmlx.extend_api=function(name,map,ext){var t=window[name];t&&(window[name]=function(obj){if(obj&&"object"==typeof obj&&!obj.tagName){var that=t.apply(this,map._init?map._init(obj):arguments);for(var a in dhtmlx)map[a]&&this[map[a]](dhtmlx[a]);for(var a in obj)map[a]?this[map[a]](obj[a]):0==a.indexOf("on")&&this.attachEvent(a,obj[a])}else that=t.apply(this,arguments);return map._patch&&map._patch(this),that||this},window[name].prototype=t.prototype,ext&&dhtmlXHeir(window[name].prototype,ext))},dhtmlxAjax={get:function(url,callback){var t=new dtmlXMLLoaderObject(!0);return t.async=arguments.length<3,t.waitCall=callback,t.loadXML(url),t},post:function(url,post,callback){var t=new dtmlXMLLoaderObject(!0);return t.async=arguments.length<4,t.waitCall=callback,t.loadXML(url,!0,post),t},getSync:function(url){return this.get(url,null,!0)},postSync:function(url,post){return this.post(url,post,null,!0)}},dtmlXMLLoaderObject.count=0,dtmlXMLLoaderObject.prototype.waitLoadFunction=function(dhtmlObject){var once=!0;return this.check=function(){if(dhtmlObject&&null!=dhtmlObject.onloadAction&&(!dhtmlObject.xmlDoc.readyState||4==dhtmlObject.xmlDoc.readyState)){if(!once)return;once=!1,dtmlXMLLoaderObject.count++,"function"==typeof dhtmlObject.onloadAction&&dhtmlObject.onloadAction(dhtmlObject.mainObject,null,null,null,dhtmlObject),dhtmlObject.waitCall&&(dhtmlObject.waitCall.call(this,dhtmlObject),dhtmlObject.waitCall=null)}},this.check},dtmlXMLLoaderObject.prototype.getXMLTopNode=function(tagName,oldObj){if(this.xmlDoc.responseXML){if(0==(temp=this.xmlDoc.responseXML.getElementsByTagName(tagName)).length&&-1!=tagName.indexOf(":"))var temp=this.xmlDoc.responseXML.getElementsByTagName(tagName.split(":")[1]);var z=temp[0]}else z=this.xmlDoc.documentElement;if(z)return this._retry=!1,z;if(!this._retry&&_isIE){this._retry=!0;oldObj=this.xmlDoc;return this.loadXMLString(this.xmlDoc.responseText.replace(/^[\s]+/,""),!0),this.getXMLTopNode(tagName,oldObj)}return dhtmlxError.throwError("LoadXML","Incorrect XML",[oldObj||this.xmlDoc,this.mainObject]),document.createElement("DIV")},dtmlXMLLoaderObject.prototype.loadXMLString=function(xmlString,silent){if(_isIE)this.xmlDoc=new ActiveXObject("Microsoft.XMLDOM"),this.xmlDoc.async=this.async,this.xmlDoc.onreadystatechange=function(){},this.xmlDoc.loadXML(xmlString);else{var parser=new DOMParser;this.xmlDoc=parser.parseFromString(xmlString,"text/xml")}silent||(this.onloadAction&&this.onloadAction(this.mainObject,null,null,null,this),this.waitCall&&(this.waitCall(),this.waitCall=null))},dtmlXMLLoaderObject.prototype.loadXML=function(filePath,postMode,postVars,rpc){this.rSeed&&(filePath+=(-1!=filePath.indexOf("?")?"&":"?")+"a_dhx_rSeed="+(new Date).valueOf()),this.filePath=filePath,!_isIE&&window.XMLHttpRequest?this.xmlDoc=new XMLHttpRequest:this.xmlDoc=new ActiveXObject("Microsoft.XMLHTTP"),this.async&&(this.xmlDoc.onreadystatechange=new this.waitLoadFunction(this)),this.xmlDoc.open(postMode?"POST":"GET",filePath,this.async),rpc?(this.xmlDoc.setRequestHeader("User-Agent","dhtmlxRPC v0.1 ("+navigator.userAgent+")"),this.xmlDoc.setRequestHeader("Content-type","text/xml")):postMode&&this.xmlDoc.setRequestHeader("Content-type",this.contenttype||"application/x-www-form-urlencoded"),this.xmlDoc.setRequestHeader("X-Requested-With","XMLHttpRequest"),this.xmlDoc.send(postVars),this.async||new this.waitLoadFunction(this)()},dtmlXMLLoaderObject.prototype.destructor=function(){return this._filterXPath=null,this._getAllNamedChilds=null,this._retry=null,this.async=null,this.rSeed=null,this.filePath=null,this.onloadAction=null,this.mainObject=null,this.xmlDoc=null,this.doXPath=null,this.doXPathOpera=null,this.doXSLTransToObject=null,this.doXSLTransToString=null,this.loadXML=null,this.loadXMLString=null,this.doSerialization=null,this.xmlNodeToJSON=null,this.getXMLTopNode=null,this.setXSLParamValue=null},dtmlXMLLoaderObject.prototype.xmlNodeToJSON=function(node){for(var t={},i=0;i<node.attributes.length;i++)t[node.attributes[i].name]=node.attributes[i].value;t._tagvalue=node.firstChild?node.firstChild.nodeValue:"";for(i=0;i<node.childNodes.length;i++){var name=node.childNodes[i].tagName;name&&(t[name]||(t[name]=[]),t[name].push(this.xmlNodeToJSON(node.childNodes[i])))}return t},dhtmlDragAndDropObject.prototype.removeDraggableItem=function(htmlNode){htmlNode.onmousedown=null,htmlNode.dragStarter=null,htmlNode.dragLanding=null},dhtmlDragAndDropObject.prototype.addDraggableItem=function(htmlNode,dhtmlObject){htmlNode.onmousedown=this.preCreateDragCopy,htmlNode.dragStarter=dhtmlObject,this.addDragLanding(htmlNode,dhtmlObject)},dhtmlDragAndDropObject.prototype.addDragLanding=function(htmlNode,dhtmlObject){htmlNode.dragLanding=dhtmlObject},dhtmlDragAndDropObject.prototype.preCreateDragCopy=function(e){if(!e&&!window.event||2!=(e||event).button)return window.dhtmlDragAndDrop.waitDrag?(window.dhtmlDragAndDrop.waitDrag=0,document.body.onmouseup=window.dhtmlDragAndDrop.tempDOMU,document.body.onmousemove=window.dhtmlDragAndDrop.tempDOMM):(window.dhtmlDragAndDrop.dragNode&&window.dhtmlDragAndDrop.stopDrag(e),window.dhtmlDragAndDrop.waitDrag=1,window.dhtmlDragAndDrop.tempDOMU=document.body.onmouseup,window.dhtmlDragAndDrop.tempDOMM=document.body.onmousemove,window.dhtmlDragAndDrop.dragStartNode=this,window.dhtmlDragAndDrop.dragStartObject=this.dragStarter,document.body.onmouseup=window.dhtmlDragAndDrop.preCreateDragCopy,document.body.onmousemove=window.dhtmlDragAndDrop.callDrag,window.dhtmlDragAndDrop.downtime=(new Date).valueOf(),e&&e.preventDefault&&e.preventDefault()),!1},dhtmlDragAndDropObject.prototype.callDrag=function(e){if(e||(e=window.event),dragger=window.dhtmlDragAndDrop,!((new Date).valueOf()-dragger.downtime<100)){if(!dragger.dragNode){if(!dragger.waitDrag)return dragger.stopDrag(e,!0);if(dragger.dragNode=dragger.dragStartObject._createDragNode(dragger.dragStartNode,e),!dragger.dragNode)return dragger.stopDrag();dragger.dragNode.onselectstart=function(){return!1},dragger.gldragNode=dragger.dragNode,document.body.appendChild(dragger.dragNode),document.body.onmouseup=dragger.stopDrag,dragger.waitDrag=0,dragger.dragNode.pWindow=window,dragger.initFrameRoute()}if(dragger.dragNode.parentNode!=window.document.body&&dragger.gldragNode){var grd=dragger.gldragNode;dragger.gldragNode.old&&(grd=dragger.gldragNode.old),grd.parentNode.removeChild(grd);var oldBody=dragger.dragNode.pWindow;if(grd.pWindow&&grd.pWindow.dhtmlDragAndDrop.lastLanding&&grd.pWindow.dhtmlDragAndDrop.lastLanding.dragLanding._dragOut(grd.pWindow.dhtmlDragAndDrop.lastLanding),_isIE){var div=document.createElement("Div");div.innerHTML=dragger.dragNode.outerHTML,dragger.dragNode=div.childNodes[0]}else dragger.dragNode=dragger.dragNode.cloneNode(!0);dragger.dragNode.pWindow=window,dragger.gldragNode.old=dragger.dragNode,document.body.appendChild(dragger.dragNode),oldBody.dhtmlDragAndDrop.dragNode=dragger.dragNode}if(dragger.dragNode.style.left=e.clientX+15+(dragger.fx?-1*dragger.fx:0)+(document.body.scrollLeft||document.documentElement.scrollLeft)+"px",dragger.dragNode.style.top=e.clientY+3+(dragger.fy?-1*dragger.fy:0)+(document.body.scrollTop||document.documentElement.scrollTop)+"px",e.srcElement)z=e.srcElement;else var z=e.target;dragger.checkLanding(z,e)}},dhtmlDragAndDropObject.prototype.calculateFramePosition=function(n){if(window.name){for(var el=parent.frames[window.name].frameElement.offsetParent,fx=0,fy=0;el;)fx+=el.offsetLeft,fy+=el.offsetTop,el=el.offsetParent;if(parent.dhtmlDragAndDrop){var ls=parent.dhtmlDragAndDrop.calculateFramePosition(1);fx+=1*ls.split("_")[0],fy+=1*ls.split("_")[1]}if(n)return fx+"_"+fy;this.fx=fx,this.fy=fy}return"0_0"},dhtmlDragAndDropObject.prototype.checkLanding=function(htmlObject,e){htmlObject&&htmlObject.dragLanding?(this.lastLanding&&this.lastLanding.dragLanding._dragOut(this.lastLanding),this.lastLanding=htmlObject,this.lastLanding=this.lastLanding.dragLanding._dragIn(this.lastLanding,this.dragStartNode,e.clientX,e.clientY,e),this.lastLanding_scr=_isIE?e.srcElement:e.target):htmlObject&&"BODY"!=htmlObject.tagName?this.checkLanding(htmlObject.parentNode,e):(this.lastLanding&&this.lastLanding.dragLanding._dragOut(this.lastLanding,e.clientX,e.clientY,e),this.lastLanding=0,this._onNotFound&&this._onNotFound())},dhtmlDragAndDropObject.prototype.stopDrag=function(e,mode){if(dragger=window.dhtmlDragAndDrop,!mode){dragger.stopFrameRoute();var temp=dragger.lastLanding;dragger.lastLanding=null,temp&&temp.dragLanding._drag(dragger.dragStartNode,dragger.dragStartObject,temp,_isIE?event.srcElement:e.target)}dragger.lastLanding=null,dragger.dragNode&&dragger.dragNode.parentNode==document.body&&dragger.dragNode.parentNode.removeChild(dragger.dragNode),dragger.dragNode=0,dragger.gldragNode=0,dragger.fx=0,dragger.fy=0,dragger.dragStartNode=0,dragger.dragStartObject=0,document.body.onmouseup=dragger.tempDOMU,document.body.onmousemove=dragger.tempDOMM,dragger.tempDOMU=null,dragger.tempDOMM=null,dragger.waitDrag=0},dhtmlDragAndDropObject.prototype.stopFrameRoute=function(win){win&&window.dhtmlDragAndDrop.stopDrag(1,1);for(var i=0;i<window.frames.length;i++)try{window.frames[i]!=win&&window.frames[i].dhtmlDragAndDrop&&window.frames[i].dhtmlDragAndDrop.stopFrameRoute(window)}catch(e){}try{parent.dhtmlDragAndDrop&&parent!=window&&parent!=win&&parent.dhtmlDragAndDrop.stopFrameRoute(window)}catch(e){}},dhtmlDragAndDropObject.prototype.initFrameRoute=function(win,mode){win&&(window.dhtmlDragAndDrop.preCreateDragCopy(),window.dhtmlDragAndDrop.dragStartNode=win.dhtmlDragAndDrop.dragStartNode,window.dhtmlDragAndDrop.dragStartObject=win.dhtmlDragAndDrop.dragStartObject,window.dhtmlDragAndDrop.dragNode=win.dhtmlDragAndDrop.dragNode,window.dhtmlDragAndDrop.gldragNode=win.dhtmlDragAndDrop.dragNode,window.document.body.onmouseup=window.dhtmlDragAndDrop.stopDrag,window.waitDrag=0,!_isIE&&mode&&(!_isFF||_FFrv<1.8)&&window.dhtmlDragAndDrop.calculateFramePosition());try{parent.dhtmlDragAndDrop&&parent!=window&&parent!=win&&parent.dhtmlDragAndDrop.initFrameRoute(window)}catch(e){}for(var i=0;i<window.frames.length;i++)try{window.frames[i]!=win&&window.frames[i].dhtmlDragAndDrop&&window.frames[i].dhtmlDragAndDrop.initFrameRoute(window,!win||mode?1:0)}catch(e){}},_isFF=!1,_isIE=!1,_isOpera=!1,_isKHTML=!1,_isMacOS=!1,_isChrome=!1,_FFrv=!1,_KHTMLrv=!1,_OperaRv=!1,-1!=navigator.userAgent.indexOf("Macintosh")&&(_isMacOS=!0),-1<navigator.userAgent.toLowerCase().indexOf("chrome")&&(_isChrome=!0),-1!=navigator.userAgent.indexOf("Safari")||-1!=navigator.userAgent.indexOf("Konqueror")?(_KHTMLrv=parseFloat(navigator.userAgent.substr(navigator.userAgent.indexOf("Safari")+7,5)),525<_KHTMLrv?(_isFF=!0,_FFrv=1.9):_isKHTML=!0):-1!=navigator.userAgent.indexOf("Opera")?(_isOpera=!0,_OperaRv=parseFloat(navigator.userAgent.substr(navigator.userAgent.indexOf("Opera")+6,3))):-1!=navigator.appName.indexOf("Microsoft")?(_isIE=!0,-1==navigator.appVersion.indexOf("MSIE 8.0")&&-1==navigator.appVersion.indexOf("MSIE 9.0")&&-1==navigator.appVersion.indexOf("MSIE 10.0")||"BackCompat"==document.compatMode||(_isIE=8)):(_isFF=!0,_FFrv=parseFloat(navigator.userAgent.split("rv:")[1])),dtmlXMLLoaderObject.prototype.doXPath=function(xpathExp,docObj,namespace,result_type){if(_isKHTML||!_isIE&&!window.XPathResult)return this.doXPathOpera(xpathExp,docObj);if(_isIE)return docObj||(docObj=this.xmlDoc.nodeName?this.xmlDoc:this.xmlDoc.responseXML),docObj||dhtmlxError.throwError("LoadXML","Incorrect XML",[docObj||this.xmlDoc,this.mainObject]),null!=namespace&&docObj.setProperty("SelectionNamespaces","xmlns:xsl='"+namespace+"'"),"single"==result_type?docObj.selectSingleNode(xpathExp):docObj.selectNodes(xpathExp)||new Array(0);var nodeObj=docObj;docObj||(docObj=this.xmlDoc.nodeName?this.xmlDoc:this.xmlDoc.responseXML),docObj||dhtmlxError.throwError("LoadXML","Incorrect XML",[docObj||this.xmlDoc,this.mainObject]),-1!=docObj.nodeName.indexOf("document")?nodeObj=docObj:docObj=(nodeObj=docObj).ownerDocument;var retType=XPathResult.ANY_TYPE;"single"==result_type&&(retType=XPathResult.FIRST_ORDERED_NODE_TYPE);var rowsCol=new Array,col=docObj.evaluate(xpathExp,nodeObj,function(pref){return namespace},retType,null);if(retType==XPathResult.FIRST_ORDERED_NODE_TYPE)return col.singleNodeValue;for(var thisColMemb=col.iterateNext();thisColMemb;)rowsCol[rowsCol.length]=thisColMemb,thisColMemb=col.iterateNext();return rowsCol},_dhtmlxError.prototype.catchError=function(type,func_name){this.catches[type]=func_name},_dhtmlxError.prototype.throwError=function(type,name,params){return this.catches[type]?this.catches[type](type,name,params):this.catches.ALL?this.catches.ALL(type,name,params):(alert("Error type: "+type+"\nDescription: "+name),null)},window.dhtmlxError=new _dhtmlxError,dtmlXMLLoaderObject.prototype.doXPathOpera=function(xpathExp,docObj){var z=xpathExp.replace(/[\/]+/gi,"/").split("/"),obj=null,i=1;if(!z.length)return[];if("."==z[0])obj=[docObj];else{if(""!=z[0])return[];obj=(this.xmlDoc.responseXML||this.xmlDoc).getElementsByTagName(z[i].replace(/\[[^\]]*\]/g,"")),i++}for(;i<z.length;i++)obj=this._getAllNamedChilds(obj,z[i]);return-1!=z[i-1].indexOf("[")&&(obj=this._filterXPath(obj,z[i-1])),obj},dtmlXMLLoaderObject.prototype._filterXPath=function(a,b){for(var c=new Array,i=(b=b.replace(/[^\[]*\[\@/g,"").replace(/[\[\]\@]*/g,""),0);i<a.length;i++)a[i].getAttribute(b)&&(c[c.length]=a[i]);return c},dtmlXMLLoaderObject.prototype._getAllNamedChilds=function(a,b){var c=new Array;_isKHTML&&(b=b.toUpperCase());for(var i=0;i<a.length;i++)for(var j=0;j<a[i].childNodes.length;j++)_isKHTML?a[i].childNodes[j].tagName&&a[i].childNodes[j].tagName.toUpperCase()==b&&(c[c.length]=a[i].childNodes[j]):a[i].childNodes[j].tagName==b&&(c[c.length]=a[i].childNodes[j]);return c},dtmlXMLLoaderObject.prototype.xslDoc=null,dtmlXMLLoaderObject.prototype.setXSLParamValue=function(paramName,paramValue,xslDoc){xslDoc||(xslDoc=this.xslDoc),xslDoc.responseXML&&(xslDoc=xslDoc.responseXML);var item=this.doXPath("/xsl:stylesheet/xsl:variable[@name='"+paramName+"']",xslDoc,"http://www.w3.org/1999/XSL/Transform","single");null!=item&&(item.firstChild.nodeValue=paramValue)},dtmlXMLLoaderObject.prototype.doXSLTransToObject=function(xslDoc,xmlDoc){if(xslDoc||(xslDoc=this.xslDoc),xslDoc.responseXML&&(xslDoc=xslDoc.responseXML),xmlDoc||(xmlDoc=this.xmlDoc),xmlDoc.responseXML&&(xmlDoc=xmlDoc.responseXML),_isIE){result=new ActiveXObject("Msxml2.DOMDocument.3.0");try{xmlDoc.transformNodeToObject(xslDoc,result)}catch(e){result=xmlDoc.transformNode(xslDoc)}}else{this.XSLProcessor||(this.XSLProcessor=new XSLTProcessor,this.XSLProcessor.importStylesheet(xslDoc));var result=this.XSLProcessor.transformToDocument(xmlDoc)}return result},dtmlXMLLoaderObject.prototype.doXSLTransToString=function(xslDoc,xmlDoc){var res=this.doXSLTransToObject(xslDoc,xmlDoc);return"string"==typeof res?res:this.doSerialization(res)},dtmlXMLLoaderObject.prototype.doSerialization=function(xmlDoc){return xmlDoc||(xmlDoc=this.xmlDoc),xmlDoc.responseXML&&(xmlDoc=xmlDoc.responseXML),_isIE?xmlDoc.xml:(new XMLSerializer).serializeToString(xmlDoc)},dhtmlxEventable=function(obj){obj.attachEvent=function(name,catcher,callObj){return this[name="ev_"+name.toLowerCase()]||(this[name]=new this.eventCatcher(callObj||this)),name+":"+this[name].addEvent(catcher)},obj.callEvent=function(name,arg0){return!this[name="ev_"+name.toLowerCase()]||this[name].apply(this,arg0)},obj.checkEvent=function(name){return!!this["ev_"+name.toLowerCase()]},obj.eventCatcher=function(obj){var dhx_catch=[],z=function(){for(var res=!0,i=0;i<dhx_catch.length;i++)if(null!=dhx_catch[i]){var zr=dhx_catch[i].apply(obj,arguments);res=res&&zr}return res};return z.addEvent=function(ev){return"function"!=typeof ev&&(ev=eval(ev)),!!ev&&dhx_catch.push(ev)-1},z.removeEvent=function(id){dhx_catch[id]=null},z},obj.detachEvent=function(id){if(0!=id){var list=id.split(":");this[list[0]].removeEvent(list[1])}},obj.detachAllEvents=function(){for(var name in this)0==name.indexOf("ev_")&&(this.detachEvent(name),this[name]=null)},obj=null};